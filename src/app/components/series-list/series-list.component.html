<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<body>
    <!-- Navbar -->
    <app-nav></app-nav>

    <!-- Sidebar Filtros -->
    <main>
        <aside class="sidebar">
            <h2>Filtros</h2>
            <div class="filtros">
                <h3>Géneros</h3>
                <div class="genres">
                    <button>Acción</button>
                    <button>Comedia</button>
                    <button>Horror</button>
                    <button>Fantasía</button>
                    <button>Aventura</button>
                    <button>Crimen</button>
                    <button>Anime</button>
                    <button>Romance</button>
                    <button>SI-FI</button>
                </div>
                <h3>Puntuación</h3>
                <div class="rating">
                    <span>⭐️⭐️⭐️⭐️⭐️</span>
                </div>
                <h3>Fecha Estreno</h3>
                <input type="date">
            </div>
        </aside>

        <!-- Listado de series -->
        <div class="actors-list">
            @for (item of listadoSeries; track item.id) {
            <a [routerLink]="['/seriesDetail', item.id]"> <!-- Poner redirect al detalle de la serie -->
                <div class="actor-card">
                    <img [src]="'https://image.tmdb.org/t/p/w500' + item.poster_path" [alt]="item.name">
                    <h3>{{ item.name }}</h3>
                    <div class="d-flex">
                        <p class="card-text"><i class="bi bi-calendar"></i> {{item.first_air_date}}</p>
                        <p class="card-text"><i class="bi bi-eye"></i> {{item.popularity | numberFormatPipe}}</p>
                    </div>
                    <div class="rating-circle">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="60" height="60">
                            <circle cx="60" cy="60" r="60" fill="black" />
                            <circle class="track" cx="60" cy="60" r="55" stroke-width="10" fill="none"
                                stroke="rgba(160, 215, 231, 0.85)" />
                            <circle class="filled" cx="60" cy="60" r="55" stroke-width="10" fill="none"
                                [attr.stroke-dasharray]="440"
                                [attr.stroke-dashoffset]="getStrokeDashoffset(item.vote_average)"
                                [attr.stroke]="getCircleColor(item.vote_average)">
                            </circle>
                            <text x="60" y="70" fill="#fff" text-anchor="middle" dy="5"
                                class="rating-text">{{item.vote_average.toFixed(1)}}</text>
                        </svg>
                    </div>
                </div>
            </a>
            }
        </div>
    </main>
</body>